<!DOCTYPE html>
<html>
  <head>
    <title>Films and Categories Database</title>
    <meta charset="UTF-8">
    <meta name="author" content="Ray Tran">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="styles.css">
    <script type="text/javascript" src="utilities.js"></script>
    <script type="text/javascript">
		    window.addEventListener('load', PopulateFilmsTable);
		</script>
  </head>

  <body>
    <div class="container-fluid">
     <h1 class="big-text">FILMS & CATEGORIES DATABASE</h1>
     <h2 class="med-text">ALL FILMS</h2>
      <div class="row justify-content-center">
        <div class="justify-content-center center-block">
          <table class="table table-dark table-hover">
            <thead>
              <tr>
                <th scope="col">Film ID</th>
                <th scope="col">Title</th>
                <th scope="col">Description</th>
                <th scope="col">Release Year</th>
                <th scope="col">Length</th>
                <th scope="col">Rating</th>
                <th scope="col">Category</th>
                <th scope="col">Last Updated</th>
              </tr>
            </thead>
            <tbody id= "tableBody">
              <!-- <tr>
                <th scope="row">1</th>
                <td>Mark</td>
                <td>Otto</td>
                <td>@mdo</td>
              </tr>
              <tr>
                <th scope="row">2</th>
                <td>Jacob</td>
                <td>Thornton</td>
                <td>@fat</td>
              </tr>
              <tr>
                <th scope="row">3</th>
                <td>Larry</td>
                <td>the Bird</td>
                <td>@twitter</td>
              </tr> -->
            </tbody>
          </table>
          <p id="errorMessage" class="med-text"></p>
        </div>
      </div>

      <!--
      <body onload="getFilms()">
                <table class="table table-striped">
                        <thead>
                                <tr id="tblHeader">
                                </tr>
                        </thead>
                        <tbody id="tblBody">
                        </tbody>
                </table>
                <script>
                        function getFilms(){
                                let xhttp = new XMLHttpRequest();
                                xhttp.onreadystatechange = function(){
                                        if (this.readyState == 4 && this.status == 200){
                                                let head = JSON.parse(this.response)[0];
                                                let body = JSON.parse(this.response)[1];
                                                if (head != "Error"){
                                                        document.getElementById("tblHeader").innerHTML = head;
                                                        document.getElementById("tblBody").innerHTML = body;
                                                }
                                                else {
                                                        document.getElementById("tblHeader").innerHTML = "<th scope='col'>Error: Film retrieval failed.</th>";
                                                        document.getElementById("tblBody").innerHTML = "";
                                                }
                                        }
                                };
                                xhttp.open("GET", "api/films-categories", true);
                                xhttp.send();
                        }
                </script>
        </body>

    -->

    </div>
  </body>
</html>
